<!DOCTYPE html>
<html>
<head>
    <title>Mis Tickets</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
    <header class="dashboard-header">
        <img src="/assets/logo.png" alt="Logo" class="logo" style="width: 120px;"> 
        <h2 class="header-title">📋 Gestión de Tickets</h2>
        <div class="user-menu" id="userMenu">
            <span id="usernameDisplay"></span>
            <div class="menu-dropdown" id="menuDropdown">
                <div class="menu-item" onclick="logout()">Cerrar sesión</div>
            </div>
        </div>
    </header>

    <main>
        <div class="filters">
            <input 
                type="text" 
                class="filter-select" 
                placeholder="Buscar tickets..." 
                id="searchInput" 
                onkeyup="filterTickets()"
            >
            <select class="filter-select" id="filterStatus" onchange="loadTickets()">
                <option value="all">Todos</option>
                <option value="open">Pendientes</option>
                <option value="in-progress">En Progreso</option>
                <option value="resolved">Resueltos</option>
            </select>
        </div>

        <div class="tickets-grid" id="userTickets">
            <!-- Tickets se cargan dinámicamente -->
        </div>
        
    </main>
    
    <!-- Botón flotante para crear tickets -->
<button class="fab" onclick="toggleCreateModal('show')">+</button>

<!-- Modal de creación -->
<div id="createModal">
    <div class="modal-overlay" onclick="toggleCreateModal('hide')"></div>
    <div class="modal-content">
    <h3>Crear Nuevo Ticket</h3>
    <form onsubmit="createTicket(event)">
        <input type="text" id="ticketTitle" placeholder="Título" required>
        <textarea id="ticketDesc" placeholder="Descripción" required></textarea>
        <button type="submit">Enviar</button>
        <button type="button" onclick="closeCreateModal()">Cancelar</button>
    </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/aws-amplify@3.3.14/dist/aws-amplify.min.js"></script>

<script src="scripts.js"></script>
</body>
</html>
